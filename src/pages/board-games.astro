---
import { payloadClient } from '../api/PayloadClient';
import { BoardGame } from '../api/models/BoardGame';

const response = await payloadClient.find('board-games');

let boardGames: Array<BoardGame> = [];

if(response.isSuccess && response.data) {  
  boardGames = response.data.docs.map((json) => BoardGame.fromJson(json));
}
---

<html>
  <head>
    <title>Board Games List</title>
  </head>
  <body>
    <h1>Board Games</h1>
    <ul>
      {
        response.isSuccess && boardGames.length > 0
          ? boardGames.map(boardGame => (
              <li>
                <strong>{boardGame.title}</strong> â€” Rating: {boardGame.rating ?? 'N/A'}
              </li>
            ))
          : <li>No board games found.</li>
      }
    </ul>
  </body>
</html>